import{r as u,j as n}from"./index-b129b865.js";import{M as b}from"./Modal-e7822c47.js";import{M as j}from"./ModalButton-4f99a517.js";import{F as p}from"./Form-94e33b9f.js";import{E as f}from"./config-a5b38a07.js";import{f as i,m as S,n as x}from"./utils-e871904b.js";import{T as h}from"./Table-d99c0d4b.js";import{b as E}from"./bootstrap.bundle.min-69815fb9.js";import"./Grow-c0f8e368.js";function A(){const[m,r]=u.useState([]),[a,c]=u.useState({});u.useEffect(()=>{i().then(t=>{r(t)})},[]);function l(t){a.id&&(t.id=a.id),x(t).then(()=>{i().then(e=>{r(e)})})}function d(t,e){r(e?[...m.sort((s,o)=>s[t]>o[t]?1:s[t]<o[t]?-1:0)]:[...m.sort((s,o)=>s[t]<o[t]?1:s[t]>o[t]?-1:0)])}return n.jsxs(n.Fragment,{children:[n.jsx(b,{title:"Предмет",connected_with:"subject_modal",children:n.jsx(p,{elements:[{name:"name",label:"Название",type:f.INPUT,settings:{}}],onSubmit:l,instance:a})}),n.jsx(j,{connected_with:"subject_modal",button_text:"Создать предмет",additionalClasses:"m-3",preOpen:()=>{c({})}}),n.jsx(h,{elements:m,table_fields:[{label:"Название",name:"name"}],onEdit:t=>{c(t),new E.Modal(document.getElementById("subject_modal"),{}).show()},Sort:d,NeedEdit:!0,NeedDelete:!0,onDelete:t=>{S(t).then(()=>{i().then(e=>{r(e)})})}})]})}export{A as default};
